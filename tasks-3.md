# –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è: SQL

- [–ó–∞–¥–∞–Ω–∏–µ 1. –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—ã](#–∑–∞–¥–∞–Ω–∏–µ-1-–∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—ã)
- [–ó–∞–¥–∞–Ω–∏–µ 2. FULL JOIN](#–∑–∞–¥–∞–Ω–∏–µ-2-full-join)
- [–ó–∞–¥–∞–Ω–∏–µ 3. –§–∞–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](#–∑–∞–¥–∞–Ω–∏–µ-3-—Ñ–∞–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

## –ó–∞–¥–∞–Ω–∏–µ 1. –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—ã

**–ï—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ examination —Å –¥–≤—É–º—è –ø–æ–ª—è–º–∏: id (id –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞), scores (–∫–æ–ª-–≤–æ –Ω–∞–±—Ä–∞–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –æ—Ç 0 –¥–æ 100). –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–æ–Ω–∫—É —Å –ø–æ–∑–∏—Ü–∏–µ–π –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞ –≤ –æ–±—â–µ–º —Ä–µ–π—Ç–∏–Ω–≥–µ.**

---

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

> –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å: —Å–ª–æ–≤–æ *"—Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–æ–Ω–∫—É"* –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `ALTER TABLE`).  
> –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è **—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞**, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è **—Ä–µ–π—Ç–∏–Ω–≥ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –±–∞–ª–ª–æ–≤**.

–î–ª—è —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –æ–∫–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `RANK()`, –∫–æ—Ç–æ—Ä–∞—è:
- –ù–∞–∑–Ω–∞—á–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–Ω–≥,
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Å—Ç–∞ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1, 2, 2, 4...).

üîπ –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–Ω—ã—Ö —Å–ø–∏—Å–∫–∞—Ö: –µ—Å–ª–∏ –¥–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞–±—Ä–∞–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –±–∞–ª–ª—ã, –æ–Ω–∏ –¥–µ–ª—è—Ç –æ–¥–Ω–æ –º–µ—Å—Ç–æ, –∞ —Å–ª–µ–¥—É—é—â–∏–π –∏–¥—ë—Ç —Å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º.

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî `DENSE_RANK()`, –∫–æ—Ç–æ—Ä–∞—è –Ω—É–º–µ—Ä—É–µ—Ç "–ø–ª–æ—Ç–Ω–æ": 1, 2, 2, 3...  
–ù–æ —ç—Ç–æ **–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º—É –ø–æ–Ω—è—Ç–∏—é —Ä–µ–π—Ç–∏–Ω–≥–∞**, –≥–¥–µ –≤–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π.

```sql
SELECT id, scores,
       RANK() OVER (ORDER BY scores DESC) AS position
FROM examination
```

### üß™ –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

| id  | scores | position |
|-----|--------|----------|
| 103 | 98     | 1        |
| 101 | 95     | 2        |
| 105 | 95     | 2        |
| 102 | 90     | 4        |
| 104 | 87     | 5        |

üîπ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
- –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—ã 101 –∏ 105 –Ω–∞–±—Ä–∞–ª–∏ –ø–æ 95 ‚Üí –æ–±–∞ –Ω–∞ 2 –º–µ—Å—Ç–µ.
- –°–ª–µ–¥—É—é—â–∏–π ‚Äî –Ω–∞ 4 –º–µ—Å—Ç–µ (–ø—Ä–æ–ø—É—â–µ–Ω–æ 3-–µ), –ø–æ—Ç–æ–º—É —á—Ç–æ —É–∂–µ –±—ã–ª–æ –¥–≤–æ–µ –Ω–∞ 2-–º.

### üìå –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

- `ORDER BY scores DESC` ‚Äî —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –±–∞–ª–ª–∞–º –æ—Ç –≤—ã—Å–æ–∫–∏—Ö –∫ –Ω–∏–∑–∫–∏–º.
- `RANK()` ‚Äî –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –º–µ—Å—Ç–æ:
  - –ü–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ ‚Äî —É –∫–æ–≥–æ –±–æ–ª—å—à–µ –≤—Å–µ—Ö –±–∞–ª–ª–æ–≤.
  - –ï—Å–ª–∏ –¥–≤–∞ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –±–∞–ª–ª—ã ‚Äî –æ–Ω–∏ –ø–æ–ª—É—á–∞—é—Ç **–æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –º–µ—Å—Ç–æ**.
  - –°–ª–µ–¥—É—é—â–µ–µ –º–µ—Å—Ç–æ **–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è** –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.

---

## –ó–∞–¥–∞–Ω–∏–µ 2. FULL JOIN

**–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã: –ø–µ—Ä–≤–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç 30 —Å—Ç—Ä–æ–∫, –∞ –≤—Ç–æ—Ä–∞—è ‚Äî 20 —Å—Ç—Ä–æ–∫. –ú—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é FULL JOIN –º–µ–∂–¥—É –Ω–∏–º–∏. –ö–∞–∫–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ, –µ—Å–ª–∏ —É—á–µ—Å—Ç—å, —á—Ç–æ –∫–ª—é—á–∏ –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—â–∏–º–∏, —Ç–∞–∫ –∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏?**

> –û—Ç–≤–µ—Ç –¥–∞—Ç—å –≤ –∫—Ä–∞—Ç–∫–æ–π —Ñ–æ—Ä–º–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ 10 –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 3000 —Å—Ç—Ä–æ–∫

**–û—Ç–≤–µ—Ç:** –º–∏–Ω–∏–º–∞–ª—å–Ω–æ 30 –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 50

---

### –†–µ—à–µ–Ω–∏–µ

–û–ø–µ—Ä–∞—Ü–∏—è `FULL JOIN` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫–∏ –∏–∑ **–æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü**, –≤–∫–ª—é—á–∞—è:
- –°—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ **—Å–æ–≤–ø–∞–ª–∏ –ø–æ —É—Å–ª–æ–≤–∏—é —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** ‚Äî –æ–Ω–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–Ω—É.
- –°—Ç—Ä–æ–∫–∏, **–Ω–µ –∏–º–µ—é—â–∏–µ –ø–∞—Ä—ã** ‚Äî –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å `NULL` –≤ –ø–æ–ª—è—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü—ã.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **—Å—Ç–µ–ø–µ–Ω–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∫–ª—é—á–µ–π**.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞—è:

#### üîΩ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫: **30**

–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ **–≤—Å–µ 20 —Å—Ç—Ä–æ–∫ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Ö–æ–¥—è—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ** —Å 20 —Å—Ç—Ä–æ–∫–∞–º–∏ –∏–∑ –ª–µ–≤–æ–π (–∫–æ—Ç–æ—Ä—ã—Ö 30).

–¢–æ–≥–¥–∞:
- 20 —Å—Ç—Ä–æ–∫ ‚Äî –ø–æ–ª–Ω—ã–µ (–æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ 10 —Å—Ç—Ä–æ–∫ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã ‚Äî –±–µ–∑ –ø–∞—Ä—ã ‚Üí –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å `NULL` –∏–∑ –ø—Ä–∞–≤–æ–π
- –ò—Ç–æ–≥–æ: `20 + 10 = 30` —Å—Ç—Ä–æ–∫

üîπ –≠—Ç–æ **–º–∏–Ω–∏–º—É–º**, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–∂–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –º—ã –Ω–µ –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –º–µ–Ω—å—à–µ, —á–µ–º —Ä–∞–∑–º–µ—Ä —Å–∞–º–æ–π –±–æ–ª—å—à–æ–π —Ç–∞–±–ª–∏—Ü—ã.

#### üîº –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫: **50**

–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ **–Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è** –ø–æ –∫–ª—é—á—É.

–¢–æ–≥–¥–∞:
- –í—Å–µ 30 —Å—Ç—Ä–æ–∫ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å `NULL` —Å–ø—Ä–∞–≤–∞
- –í—Å–µ 20 —Å—Ç—Ä–æ–∫ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å `NULL` —Å–ª–µ–≤–∞
- –ù–∏–∫–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –Ω–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è
- –ò—Ç–æ–≥–æ: `30 + 20 = 50` —Å—Ç—Ä–æ–∫

---

### üìå –í—ã–≤–æ–¥

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ `FULL JOIN` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–∏—Å–ª–∞ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –∫–ª—é—á–µ–π:
- **–ú–∏–Ω–∏–º—É–º**: –∫–æ–≥–¥–∞ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å —Å –¥—Ä—É–≥–æ–π ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç = `max(30, 20) = 30`
- **–ú–∞–∫—Å–∏–º—É–º**: –∫–æ–≥–¥–∞ –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç = `30 + 20 = 50`

---
